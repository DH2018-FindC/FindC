{"version":3,"sources":["components/MapObj.js","components/AddButton.js","components/AddDialog.js","containers/Main.js"],"names":["L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","MapObj","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","coords","data","position","_ref","setState","arr","latitude","longitude","react_default","a","createElement","Map","center","zoom","TileLayer","attribution","url","Marker","color","Component","AddButton","style","bottom","right","zIndex","Button_default","variant","backgroundColor","onClick","setAddNewModalState","Add_default","API_KEY","ENDPOINT_LINK","AddDialog","submitToFirebase","services","keys","forEach","service","fetch","concat","address","then","d","json","loc","results","geometry","location","firebase","database","ref","push","name","lat","lng","clearData","checkError","error","reverseLoading","handleChange","variable","event","defineProperty","target","value","handleChecked","temp","getReverseGeoLocation","link","formatted_address","open","F_condoms","F_bcpills","F_iud","D_condoms","D_bcpills","D_iud","servicesList","id","title","nextProps","_this2","Dialog_default","onClose","aria-labelledby","scroll","DialogTitle_default","DialogContent_default","DialogContentText_default","TextField_default","autoFocus","margin","label","fullWidth","onChange","disabled","loading","CircularProgress_default","FormLabel_default","component","FormGroup_default","map","i","FormControlLabel_default","key","control","Checkbox_default","checked","DialogActions_default","Main","addNewModalOpen","className","width","height","overflow","MapObj_MapObj","AddButton_AddButton","AddDialog_AddDialog"],"mappings":"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","file":"static/js/1.4d27a81c.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Map, CircleMarker, Marker, Popup, TileLayer } from 'react-leaflet';\nimport './MapObj.css';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\nexport default class MapObj extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            coords: this.props.coords,\n            data: this.props.data\n        }\n\n\n        this.position = [47.6555, -122.315];\n\n    }\n\n    componentWillReceiveProps({ coords, data }) {\n        this.setState({ coords, data });\n    }\n\n\n    render() {\n        let arr = [this.state.coords && this.state.coords.latitude ? this.state.coords.latitude : 0,\n        this.state.coords && this.state.coords.longitude ? this.state.coords.longitude : 0];\n        return (\n            <div>\n                <Map center={arr} zoom={16}>\n                    <TileLayer\n                        attribution=\"<a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n                    {/* <CircleMarker center={arr}>\n                        <Popup>A pretty CSS3 popup.<br />Easily customizable.</Popup>\n                    </CircleMarker> */}\n                    <Marker position={arr} color=\"red\">\n                        {/* <Popup>A pretty CSS3 popup.<br />Easily customizable.</Popup> */}\n                    </Marker>\n                </Map>\n            </div>\n\n        )\n    }\n}","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\n\n\nexport default class AddButton extends Component {\n    render() {\n        return <div style={{\n            position: 'absolute',\n            bottom: 20,\n            right: 20,\n            zIndex: 500\n        }}><Button variant=\"fab\" style={{ backgroundColor: \"#421dac\", color: 'white' }} onClick={() => this.props.setAddNewModalState(true)}>\n                <AddIcon />\n            </Button></div>\n    }\n}","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nconst API_KEY = 'AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y';\nconst ENDPOINT_LINK = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\n//https://maps.googleapis.com/maps/api/geocode/json?address=University%20of%20Washington&key=AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y\n// https://maps.googleapis.com/maps/api/geocode/json?address=University%20of%20Washington&key=AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y\nexport default class AddDialog extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: this.props.open,\n            name: '',\n            address: '',\n            reverseLoading: false,\n            services: {\n                F_condoms: false,\n                F_bcpills: false,\n                F_iud: false,\n                D_condoms: false,\n                D_bcpills: false,\n                D_iud: false\n            },\n            error: ''\n        };\n\n        this.servicesList = [\n            { id: 'F_condoms', title: 'Free Condoms' },\n            { id: 'F_bcpills', title: 'Free Birth Control Pills' },\n            { id: 'F_iud', title: 'Free IUDs' },\n            { id: 'D_condoms', title: 'Discounted Condoms' },\n            { id: 'D_bcpills', title: 'Discounted Birth Control Pills' },\n            { id: 'D_iud', title: 'Discounted IUDs' }\n        ]\n    }\n\n    submitToFirebase = () => {\n        let services = this.state.services;\n        Object.keys(services).forEach(service => {\n            services[service] = services[service] ? 1 : 0\n        });\n\n        fetch(`${ENDPOINT_LINK}${this.state.address}&key=${API_KEY}`)\n            .then(d => {\n                return d.json();\n            })\n            .then(d => {\n                let loc = d.results[0].geometry.location;\n                firebase.database().ref('Data').push({\n                    name: this.state.name,\n                    address: this.state.address,\n                    services,\n                    lat: loc.lat,\n                    lng: loc.lng\n                });\n                this.clearData();\n            });\n    }\n\n    checkError = () => {\n        if (this.state.address === \"\") {\n            this.setState({ error: \"address\" });\n            return false;\n        }\n        if (this.state.name === \"\") {\n            this.setState({ error: \"name\" });\n            return false;\n        }\n        return true;\n    }\n\n    clearData = () => {\n        this.setState({\n            name: '',\n            address: '',\n            reverseLoading: false,\n            services: {}\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            open: nextProps.open,\n            coords: nextProps.coords\n        })\n    }\n\n    handleChange = (variable) => event => {\n        this.setState({\n            [variable]: event.target.value\n        })\n    }\n\n    handleChecked = (variable) => event => {\n        let temp = this.state.services;\n        temp[variable] = true;\n        this.setState({\n            services: temp\n        });\n    }\n\n    getReverseGeoLocation = () => {\n        this.setState({ reverseLoading: true });\n        let link = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${this.state.coords.latitude},${this.state.coords.longitude}&location_type=ROOFTOP&result_type=street_address&key=${API_KEY}`\n        fetch(link).then(d => {\n            return d.json();\n        }).then(d => {\n            this.setState({\n                address: d.results[0].formatted_address,\n                reverseLoading: false\n            });\n        })\n    }\n\n    render() {\n        return <div>\n            <Dialog\n                open={this.state.open}\n                onClose={() => { this.props.setAddNewModalState(false) }}\n                aria-labelledby=\"form-dialog-title\"\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Add new info</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Please enter information about a location!\n                    </DialogContentText>\n                    <TextField\n                        error={this.state.error === \"name\"}\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Name\"\n                        fullWidth\n                        onChange={this.handleChange('name')}\n                    />\n                    <TextField\n                        error={this.state.error === \"address\"}\n                        margin=\"dense\"\n                        id=\"address\"\n                        label=\"Address\"\n                        fullWidth\n                        onChange={this.handleChange('address')}\n                        value={this.state.address}\n                    />\n\n                    <Button onClick={() => {\n                        // this.props.setAddNewModalState(false)\n                        this.getReverseGeoLocation();\n                    }} color=\"primary\" disabled={this.state.loading}>\n                        Use current location\n                    </Button>{this.state.loading && <CircularProgress />}\n                    <FormLabel component=\"legend\">What kinds of services does this place provide?</FormLabel>\n                    <FormGroup>\n                        {this.servicesList.map((d, i) => {\n                            return <FormControlLabel key={'check' + i} control={\n                                <Checkbox checked={this.state.services[d.id]} onChange={this.handleChecked(d.id)} value={d.id} />\n                            }\n                                label={d.title} />\n                        })}\n                    </FormGroup>\n\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => {\n                        this.clearData();\n                        this.props.setAddNewModalState(false);\n                    }} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={() => {\n                        if (this.checkError()) {\n                            this.submitToFirebase();\n                            this.props.setAddNewModalState(false);\n                        }\n                    }} color=\"primary\">\n                        Submit\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div >\n    }\n}","import React, { Component } from 'react';\nimport MapObj from '../components/MapObj';\nimport './Main.css';\nimport AddButton from '../components/AddButton';\nimport AddDialog from '../components/AddDialog';\n\nexport default class Main extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            coords: this.props.coords,\n            data: this.props.data,\n            addNewModalOpen: false\n        }\n    }\n\n    componentWillReceiveProps({ coords, data }) {\n        this.setState({ coords, data })\n    }\n\n    setAddNewModalState = (addNewModalOpen) => {\n        this.setState({ addNewModalOpen });\n    }\n\n    render() {\n        return <div className={`classname`} style={{\n            width: '100vw',\n            height: '100vh',\n            overflow: 'hidden'\n        }}>\n            <MapObj coords={this.state.coords} style={{ width: '100vw', height: '100vh' }} data={this.state.data} />\n            <AddButton setAddNewModalState={this.setAddNewModalState} />\n            <AddDialog open={this.state.addNewModalOpen} coords={this.state.coords} setAddNewModalState={this.setAddNewModalState} />\n        </div>\n    }\n}"],"sourceRoot":""}