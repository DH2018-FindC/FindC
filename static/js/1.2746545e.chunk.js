(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{310:function(e,t,a){},322:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(26),o=a(27),s=a(29),r=a(28),i=a(30),c=a(0),l=a.n(c),d=a(386),u=a(390),p=a(385),h=a(389),m=a(383),f=(a(310),a(312),a(247)),v=a.n(f),g=a(250),b=a.n(g),y=a(31),E=a.n(y),k=(a(98),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).addCount=function(e,t){E.a.database().ref("Data/".concat(a.state.pushKey,"/services/").concat(e)).set(a.state.point.services[e]+(t?1:-1))},a.state={point:a.props.point,pushKey:a.props.pushKey},a.kv={F_condoms:"Free condoms",F_bcpills:"Free Birth Control Pills",F_iud:"Free IUDs",D_condoms:"Discounted condoms",D_bcpills:"Discounted Birth Control Pills",D_iud:"Discounted IUDs"},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.point,a=e.pushKey;this.setState({point:t,pushKey:a})}},{key:"render",value:function(){var e=this,t=this.state.point;return l.a.createElement("div",{style:{width:330,height:360,fontSize:14,overflowY:"auto"}},l.a.createElement("p",null,l.a.createElement("strong",null,t.name)),l.a.createElement("p",null,l.a.createElement("a",{href:"https://www.google.com/maps/?q=".concat(t.lat,",").concat(t.lng),target:"_blank"},"Open in Google Maps")),l.a.createElement("p",null,"What did you visit for? Give it a thumbs up!"),Object.keys(t.services).map(function(a,n){return l.a.createElement("div",{key:e.state.pushKey+""+n,style:{verticalAlign:"baseline",borderBottom:"1px solid black",width:"90%",padding:3}},e.kv[a],": ",t.services[a],l.a.createElement("span",{style:{margin:3}}),l.a.createElement(b.a,{style:{padding:0,minHeight:0,minWidth:40},onClick:function(){e.addCount(a,!0)}},l.a.createElement("span",{role:"img","aria-label":"thumbs up"},"\ud83d\udc4d")),l.a.createElement(b.a,{style:{padding:0,minHeight:0,minWidth:40},onClick:function(){e.addCount(a,!1)}},l.a.createElement("span",{role:"img","aria-label":"thumbs down"},"\ud83d\udc4e")))}),l.a.createElement("div",{style:{marginTop:10}}),l.a.createElement(b.a,{color:"primary"},"Petition")," ",l.a.createElement(b.a,{color:"primary"},"Suggest")," ",l.a.createElement(b.a,{color:"secondary"},"Report"))}}]),t}(c.Component));delete v.a.Icon.Default.prototype._getIconUrl,v.a.Icon.Default.mergeOptions({iconRetinaUrl:a(314),iconUrl:a(315),shadowUrl:a(316)});var O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).setCentered=function(e,t){a.setState({centered:[e+.0025,t]})},a.state={coords:a.props.coords,data:a.props.data,centered:[]},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.coords,a=e.data;this.setState({coords:t,data:a})}},{key:"render",value:function(){var e=this,t=this.state.centered.length>0?this.state.centered:[this.state.coords&&this.state.coords.latitude?this.state.coords.latitude:0,this.state.coords&&this.state.coords.longitude?this.state.coords.longitude:0],a=[this.state.coords&&this.state.coords.latitude?this.state.coords.latitude:0,this.state.coords&&this.state.coords.longitude?this.state.coords.longitude:0],n=Object.keys(this.state.data).map(function(t,a){var n=e.state.data[t];return l.a.createElement(d.a,{key:"c"+a,center:v.a.latLng(n.lat,n.lng),radius:8,fill:!0,color:"#000000",fillColor:"#ff0000",fillOpacity:"0.75",onClick:function(){e.setCentered(n.lat,n.lng)}},l.a.createElement(u.a,null,l.a.createElement(k,{point:n,pushKey:t})))});return l.a.createElement("div",null,l.a.createElement(p.a,{center:t,zoom:16},l.a.createElement(h.a,{attribution:'<a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.a.createElement(m.a,{position:a,color:"red"}),l.a.createElement("div",null,n)))}}]),t}(c.Component),C=(a(322),a(324)),w=a.n(C),j=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{position:"absolute",bottom:20,right:20,zIndex:500}},l.a.createElement(b.a,{variant:"fab",style:{backgroundColor:"#421dac",color:"white"},onClick:function(){return e.props.setAddNewModalState(!0)}},l.a.createElement(w.a,null)))}}]),t}(c.Component),S=a(325),D=a(334),_=a.n(D),F=a(326),A=a.n(F),M=a(376),N=a.n(M),L=a(330),P=a.n(L),R=a(332),W=a.n(R),I=a(328),U=a.n(I),K=a(366),G=a.n(K),z=a(299),B=a.n(z),T=a(239),x=a.n(T),H=a(240),J=a.n(H),Y=a(370),q=a.n(Y),X="AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y",Q="https://maps.googleapis.com/maps/api/geocode/json?address=",V=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).submitToFirebase=function(){var e=a.state.services;Object.keys(e).forEach(function(t){e[t]=e[t]?1:0}),fetch("".concat(Q).concat(a.state.address,"&key=").concat(X)).then(function(e){return e.json()}).then(function(t){var n=t.results[0].geometry.location;E.a.database().ref("Data").push({name:a.state.name,address:a.state.address,services:e,lat:n.lat,lng:n.lng}),a.clearData()})},a.checkError=function(){return""===a.state.address?(a.setState({error:"address"}),!1):""!==a.state.name||(a.setState({error:"name"}),!1)},a.clearData=function(){a.setState({name:"",address:"",reverseLoading:!1,services:{}})},a.handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleChecked=function(e){return function(t){var n=a.state.services;n[e]=!0,a.setState({services:n})}},a.getReverseGeoLocation=function(){a.setState({reverseLoading:!0});var e="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(a.state.coords.latitude,",").concat(a.state.coords.longitude,"&location_type=ROOFTOP&result_type=street_address&key=").concat(X);fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({address:e.results[0].formatted_address,reverseLoading:!1})})},a.state={open:a.props.open,name:"",address:"",reverseLoading:!1,services:{F_condoms:!1,F_bcpills:!1,F_iud:!1,D_condoms:!1,D_bcpills:!1,D_iud:!1},error:""},a.servicesList=[{id:"F_condoms",title:"Free Condoms"},{id:"F_bcpills",title:"Free Birth Control Pills"},{id:"F_iud",title:"Free IUDs"},{id:"D_condoms",title:"Discounted Condoms"},{id:"D_bcpills",title:"Discounted Birth Control Pills"},{id:"D_iud",title:"Discounted IUDs"}],a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open,coords:e.coords})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(A.a,{open:this.state.open,onClose:function(){e.props.setAddNewModalState(!1)},"aria-labelledby":"form-dialog-title",scroll:"paper"},l.a.createElement(U.a,{id:"form-dialog-title"},"Add new info"),l.a.createElement(P.a,null,l.a.createElement(W.a,null,"Please enter information about a location!"),l.a.createElement(_.a,{error:"name"===this.state.error,autoFocus:!0,margin:"dense",id:"name",label:"Name",fullWidth:!0,onChange:this.handleChange("name")}),l.a.createElement(_.a,{error:"address"===this.state.error,margin:"dense",id:"address",label:"Address",fullWidth:!0,onChange:this.handleChange("address"),value:this.state.address}),l.a.createElement(b.a,{onClick:function(){e.getReverseGeoLocation()},color:"primary",disabled:this.state.loading},"Use current location"),this.state.loading&&l.a.createElement(G.a,null),l.a.createElement(B.a,{component:"legend"},"What kinds of services does this place provide?"),l.a.createElement(x.a,null,this.servicesList.map(function(t,a){return l.a.createElement(J.a,{key:"check"+a,control:l.a.createElement(q.a,{checked:e.state.services[t.id],onChange:e.handleChecked(t.id),value:t.id}),label:t.title})}))),l.a.createElement(N.a,null,l.a.createElement(b.a,{onClick:function(){e.clearData(),e.props.setAddNewModalState(!1)},color:"primary"},"Cancel"),l.a.createElement(b.a,{onClick:function(){e.checkError()&&(e.submitToFirebase(),e.props.setAddNewModalState(!1))},color:"primary"},"Submit"))))}}]),t}(c.Component);a.d(t,"default",function(){return Z});var Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).setAddNewModalState=function(e){a.setState({addNewModalOpen:e})},a.state={coords:a.props.coords,data:a.props.data,addNewModalOpen:!1},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.coords,a=e.data;this.setState({coords:t,data:a})}},{key:"render",value:function(){return l.a.createElement("div",{className:"classname",style:{width:"100vw",height:"100vh",overflow:"hidden"}},l.a.createElement(O,{coords:this.state.coords,style:{width:"100vw",height:"100vh"},data:this.state.data}),l.a.createElement(j,{setAddNewModalState:this.setAddNewModalState}),l.a.createElement(V,{open:this.state.addNewModalOpen,coords:this.state.coords,setAddNewModalState:this.setAddNewModalState}))}}]),t}(c.Component)}}]);
//# sourceMappingURL=1.2746545e.chunk.js.map