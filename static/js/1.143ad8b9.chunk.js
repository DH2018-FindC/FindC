(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{286:function(e,t,a){},298:function(e,t,a){},358:function(e,t,a){"use strict";a.r(t);var n=a(21),o=a(22),s=a(24),r=a(23),c=a(25),i=a(0),d=a.n(i),l=a(357),u=a(362),h=a(356),p=(a(286),a(288),a(253)),m=a.n(p);delete m.a.Icon.Default.prototype._getIconUrl,m.a.Icon.Default.mergeOptions({iconRetinaUrl:a(290),iconUrl:a(291),shadowUrl:a(292)});var f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={coords:a.props.coords,data:a.props.data},a.position=[47.6555,-122.315],a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.coords,a=e.data;this.setState({coords:t,data:a})}},{key:"render",value:function(){var e=[this.state.coords&&this.state.coords.latitude?this.state.coords.latitude:0,this.state.coords&&this.state.coords.longitude?this.state.coords.longitude:0];return d.a.createElement("div",null,d.a.createElement(l.a,{center:e,zoom:16},d.a.createElement(u.a,{attribution:'<a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),d.a.createElement(h.a,{position:e,color:"red"})))}}]),t}(i.Component),v=(a(298),a(56)),b=a.n(v),g=a(300),E=a.n(g),O=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{style:{position:"absolute",bottom:20,right:20,zIndex:500}},d.a.createElement(b.a,{variant:"fab",style:{backgroundColor:"#421dac",color:"white"},onClick:function(){return e.props.setAddNewModalState(!0)}},d.a.createElement(E.a,null)))}}]),t}(i.Component),y=a(301),w=a(310),j=a.n(w),k=a(302),C=a.n(k),S=a(352),D=a.n(S),_=a(306),N=a.n(_),A=a(308),F=a.n(A),M=a(304),L=a.n(M),R=a(342),I=a.n(R),P=a(276),U=a.n(P),W=a(244),z=a.n(W),G=a(245),T=a.n(G),x=a(346),B=a.n(x),J=a(35),H=a.n(J),X=(a(111),"AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y"),Y="https://maps.googleapis.com/maps/api/geocode/json?address=",q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).submitToFirebase=function(){var e=a.state.services;Object.keys(e).forEach(function(t){e[t]=e[t]?1:0}),fetch("".concat(Y).concat(a.state.address,"&key=").concat(X)).then(function(e){return e.json()}).then(function(t){var n=t.results[0].geometry.location;H.a.database().ref("Data").push({name:a.state.name,address:a.state.address,services:e,lat:n.lat,lng:n.lng}),a.clearData()})},a.checkError=function(){return""===a.state.address?(a.setState({error:"address"}),!1):""!==a.state.name||(a.setState({error:"name"}),!1)},a.clearData=function(){a.setState({name:"",address:"",reverseLoading:!1,services:{}})},a.handleChange=function(e){return function(t){a.setState(Object(y.a)({},e,t.target.value))}},a.handleChecked=function(e){return function(t){var n=a.state.services;n[e]=!0,a.setState({services:n})}},a.getReverseGeoLocation=function(){a.setState({reverseLoading:!0});var e="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(a.state.coords.latitude,",").concat(a.state.coords.longitude,"&location_type=ROOFTOP&result_type=street_address&key=").concat(X);fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({address:e.results[0].formatted_address,reverseLoading:!1})})},a.state={open:a.props.open,name:"",address:"",reverseLoading:!1,services:{F_condoms:!1,F_bcpills:!1,F_iud:!1,D_condoms:!1,D_bcpills:!1,D_iud:!1},error:""},a.servicesList=[{id:"F_condoms",title:"Free Condoms"},{id:"F_bcpills",title:"Free Birth Control Pills"},{id:"F_iud",title:"Free IUDs"},{id:"D_condoms",title:"Discounted Condoms"},{id:"D_bcpills",title:"Discounted Birth Control Pills"},{id:"D_iud",title:"Discounted IUDs"}],a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open,coords:e.coords})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(C.a,{open:this.state.open,onClose:function(){e.props.setAddNewModalState(!1)},"aria-labelledby":"form-dialog-title",scroll:"paper"},d.a.createElement(L.a,{id:"form-dialog-title"},"Add new info"),d.a.createElement(N.a,null,d.a.createElement(F.a,null,"Please enter information about a location!"),d.a.createElement(j.a,{error:"name"===this.state.error,autoFocus:!0,margin:"dense",id:"name",label:"Name",fullWidth:!0,onChange:this.handleChange("name")}),d.a.createElement(j.a,{error:"address"===this.state.error,margin:"dense",id:"address",label:"Address",fullWidth:!0,onChange:this.handleChange("address"),value:this.state.address}),d.a.createElement(b.a,{onClick:function(){e.getReverseGeoLocation()},color:"primary",disabled:this.state.loading},"Use current location"),this.state.loading&&d.a.createElement(I.a,null),d.a.createElement(U.a,{component:"legend"},"What kinds of services does this place provide?"),d.a.createElement(z.a,null,this.servicesList.map(function(t,a){return d.a.createElement(T.a,{key:"check"+a,control:d.a.createElement(B.a,{checked:e.state.services[t.id],onChange:e.handleChecked(t.id),value:t.id}),label:t.title})}))),d.a.createElement(D.a,null,d.a.createElement(b.a,{onClick:function(){e.clearData(),e.props.setAddNewModalState(!1)},color:"primary"},"Cancel"),d.a.createElement(b.a,{onClick:function(){e.checkError()&&(e.submitToFirebase(),e.props.setAddNewModalState(!1))},color:"primary"},"Submit"))))}}]),t}(i.Component);a.d(t,"default",function(){return K});var K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).setAddNewModalState=function(e){a.setState({addNewModalOpen:e})},a.state={coords:a.props.coords,data:a.props.data,addNewModalOpen:!1},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.coords,a=e.data;this.setState({coords:t,data:a})}},{key:"render",value:function(){return d.a.createElement("div",{className:"classname",style:{width:"100vw",height:"100vh",overflow:"hidden"}},d.a.createElement(f,{coords:this.state.coords,style:{width:"100vw",height:"100vh"},data:this.state.data}),d.a.createElement(O,{setAddNewModalState:this.setAddNewModalState}),d.a.createElement(q,{open:this.state.addNewModalOpen,coords:this.state.coords,setAddNewModalState:this.setAddNewModalState}))}}]),t}(i.Component)}}]);
//# sourceMappingURL=1.143ad8b9.chunk.js.map