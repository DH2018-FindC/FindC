{"version":3,"sources":["components/LocationPopup.js","components/MapObj.js","components/AddButton.js","components/AddDialog.js","components/SearchButton.js","components/SearchDialog.js","containers/Main.js"],"names":["LocationPopup","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addCount","key","addOrSub","firebase","database","ref","concat","state","pushKey","set","point","services","kv","F_condoms","F_bcpills","F_iud","D_condoms","D_bcpills","D_iud","D_morningAfter","_ref","setState","_this2","react_default","a","createElement","style","width","height","fontSize","overflowY","name","href","lat","lng","target","keys","map","d","i","verticalAlign","borderBottom","padding","margin","Button_default","minHeight","minWidth","onClick","role","aria-label","marginTop","color","Component","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","MapObj","setCentered","centered","containsServices","returnBool","forEach","console","log","coords","data","arr","length","latitude","longitude","home","markerList","CircleMarker","center","latLng","radius","fill","fillColor","fillOpacity","Popup","LocationPopup_LocationPopup","Map","zoom","TileLayer","attribution","url","Marker","position","AddButton","bottom","right","zIndex","variant","backgroundColor","setAddNewModalState","Add_default","ak","ENDPOINT_LINK","AddDialog","submitToFirebase","service","fetch","address","then","json","loc","results","geometry","location","push","clearData","checkError","error","reverseLoading","handleChange","variable","event","defineProperty","value","handleChecked","temp","getReverseGeoLocation","link","formatted_address","open","servicesList","id","title","nextProps","Dialog_default","onClose","aria-labelledby","scroll","DialogTitle_default","DialogContent_default","DialogContentText_default","TextField_default","autoFocus","label","fullWidth","onChange","disabled","CircularProgress_default","FormLabel_default","component","FormGroup_default","FormControlLabel_default","control","Checkbox_default","checked","DialogActions_default","SearchButton","setSearchModalState","Search_default","SearchDialog","loading","submit","setNewCoords","setFilter","Main","addNewModalOpen","searchModalOpen","className","overflow","MapObj_MapObj","AddButton_AddButton","SearchButton_SearchButton","AddDialog_AddDialog","SearchDialog_SearchDialog"],"mappings":"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","file":"static/js/1.1fda9993.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\n/**\r\n * LocationPopup is the popup for a single circle when clicked on\r\n * @class\r\n */\r\nexport default class LocationPopup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            point: this.props.point,\r\n            pushKey: this.props.pushKey\r\n        }\r\n\r\n        this.kv = {\r\n            F_condoms: 'Free condoms',\r\n            F_bcpills: 'Free Birth Control Pills',\r\n            F_iud: 'Free IUDs',\r\n            D_condoms: 'Discounted condoms',\r\n            D_bcpills: 'Discounted Birth Control Pills',\r\n            D_iud: 'Discounted IUDs',\r\n            D_morningAfter: 'Discounted Morning After Pills'\r\n        }\r\n    }\r\n\r\n    /**\r\n     * on component receiving props, set states\r\n     * @param {*} param destructured parameter for point and pushKey\r\n     */\r\n    componentWillReceiveProps({ point, pushKey }) {\r\n        this.setState({ point, pushKey });\r\n    }\r\n\r\n    // if addOrSub true, it adds, otherwise subs\r\n    /**\r\n     * addCount will add a count to the specific discounted/free item\r\n     * @param {string} key key of item to add or subtract\r\n     * @param {boolean} addOrSub if true, it'll add 1, if false it'll subtract 1\r\n     */\r\n    addCount = (key, addOrSub) => {\r\n        firebase.database().ref(`Data/${this.state.pushKey}/services/${key}`).set(this.state.point.services[key] + (addOrSub ? 1 : -1));\r\n    }\r\n\r\n    render() {\r\n        let { point } = this.state;\r\n        return <div style={{ width: 330, height: 360, fontSize: 14, overflowY: 'auto' }}>\r\n            <p><strong>{point.name}</strong></p>\r\n            <p><a href={`https://www.google.com/maps/?q=${point.lat},${point.lng}`} target=\"_blank\">Open in Google Maps</a></p>\r\n            <p>What did you visit for? Give it a thumbs up!</p>\r\n            {Object.keys(point.services).map((d, i) => {\r\n                return <div key={this.state.pushKey + \"\" + i} style={{ verticalAlign: 'baseline', borderBottom: '1px solid black', width: '90%', padding: 3 }}>\r\n                    {this.kv[d]}: {point.services[d]}<span style={{ margin: 3 }}></span>\r\n                    <Button style={{ padding: 0, minHeight: 0, minWidth: 40 }} onClick={() => { this.addCount(d, true) }}><span role=\"img\" aria-label=\"thumbs up\">üëç</span></Button>\r\n                    <Button style={{ padding: 0, minHeight: 0, minWidth: 40 }} onClick={() => { this.addCount(d, false) }}><span role=\"img\" aria-label=\"thumbs down\">üëé</span></Button>\r\n                </div>\r\n            })}\r\n            <div style={{ marginTop: 10 }}></div>\r\n            <Button color=\"primary\">Petition</Button> <Button color=\"primary\">Suggest</Button> <Button color=\"secondary\">Report</Button>\r\n        </div>\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Map, CircleMarker, Marker, Popup, TileLayer } from 'react-leaflet';\r\nimport './MapObj.css';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\nimport LocationPopup from './LocationPopup';\r\n\r\n// Reset leaflet defaults\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n});\r\n\r\n/**\r\n * MapObj is the leaflet map\r\n * @class\r\n */\r\nexport default class MapObj extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            coords: this.props.coords,\r\n            data: this.props.data,\r\n            services: this.props.services,\r\n            centered: [],\r\n        }\r\n    }\r\n\r\n    /**\r\n     * on receiving props, the map updates coordinates and data\r\n     */\r\n    componentWillReceiveProps({ coords, data, services }) {\r\n        this.setState({ coords, data, services });\r\n    }\r\n\r\n    /**\r\n     * Set the centered position when clicked on\r\n     */\r\n    setCentered = (lat, lng) => {\r\n        this.setState({ centered: [lat + 0.0025, lng] });\r\n    }\r\n\r\n    containsServices = (point) => {\r\n        let returnBool = true;\r\n        Object.keys(this.state.services).forEach(d => {\r\n            console.log(this.state.services[d], point.services[d])\r\n            if (this.state.services[d] && point.services[d] <= 0) {\r\n                returnBool = false;\r\n            }\r\n        })\r\n        return returnBool;\r\n    }\r\n\r\n\r\n    render() {\r\n        let arr = this.state.centered.length > 0 ? this.state.centered : [this.state.coords && this.state.coords.latitude ? this.state.coords.latitude : 0,\r\n        this.state.coords && this.state.coords.longitude ? this.state.coords.longitude : 0];\r\n\r\n        let home = [this.state.coords && this.state.coords.latitude ? this.state.coords.latitude : 0,\r\n        this.state.coords && this.state.coords.longitude ? this.state.coords.longitude : 0]\r\n\r\n        let markerList = Object.keys(this.state.data).map((d, i) => {\r\n            let point = this.state.data[d];\r\n            if (this.containsServices(point)) {\r\n                return <CircleMarker key={'c' + i}\r\n                    center={L.latLng(point.lat, point.lng)}\r\n                    radius={8}\r\n                    fill={true}\r\n                    color={'#000000'}\r\n                    fillColor={'#ff0000'}\r\n                    fillOpacity={'0.75'}\r\n                    onClick={() => { this.setCentered(point.lat, point.lng) }}\r\n                >\r\n                    <Popup>\r\n                        <LocationPopup point={point} pushKey={d} />\r\n                    </Popup>\r\n                </CircleMarker>\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Map center={arr} zoom={16}>\r\n                    <TileLayer\r\n                        attribution=\"<a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                    {/* <CircleMarker center={arr}>\r\n                        <Popup>A pretty CSS3 popup.<br />Easily customizable.</Popup>\r\n                    </CircleMarker> */}\r\n                    <Marker position={home} color=\"red\">\r\n                        {/* <Popup>A pretty CSS3 popup.<br />Easily customizable.</Popup> */}\r\n                    </Marker>\r\n                    <div>\r\n                        {markerList}\r\n                    </div>\r\n                </Map>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\n/**\r\n * AddButton is the bottom that appears at the bottom right of the Main page\r\n * @class\r\n */\r\nexport default class AddButton extends Component {\r\n    render() {\r\n        return <div style={{\r\n            position: 'absolute',\r\n            bottom: 20,\r\n            right: 20,\r\n            zIndex: 500\r\n        }}><Button variant=\"fab\" style={{ backgroundColor: \"#421dac\", color: 'white' }} onClick={() => this.props.setAddNewModalState(true)}>\r\n                <AddIcon />\r\n            </Button></div>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\n// pls dont steal\r\nconst ak = 'AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y';\r\nconst ENDPOINT_LINK = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\r\n\r\n/**\r\n * AddDialog is the dialog window for adding information to firebase\r\n * @class\r\n */\r\nexport default class AddDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: this.props.open,\r\n            name: '',\r\n            address: '',\r\n            reverseLoading: false,\r\n            services: {\r\n                F_condoms: false,\r\n                F_bcpills: false,\r\n                F_iud: false,\r\n                D_condoms: false,\r\n                D_bcpills: false,\r\n                D_iud: false,\r\n                D_morningAfter: false\r\n            },\r\n            error: ''\r\n        };\r\n\r\n        this.servicesList = [\r\n            { id: 'F_condoms', title: 'Free Condoms' },\r\n            { id: 'F_bcpills', title: 'Free Birth Control Pills' },\r\n            { id: 'F_iud', title: 'Free IUDs' },\r\n            { id: 'D_condoms', title: 'Discounted Condoms' },\r\n            { id: 'D_bcpills', title: 'Discounted Birth Control Pills' },\r\n            { id: 'D_iud', title: 'Discounted IUDs' },\r\n            { id: 'D_morningAfter', title: 'Discounted Morning After Pills' }\r\n        ]\r\n    }\r\n\r\n    /**\r\n     * Submit data to firebase based on state. \r\n     * Fetch latitude and longitude of address via Google Cloud Platform and store that into firebase.\r\n     */\r\n    submitToFirebase = () => {\r\n        let services = this.state.services;\r\n        Object.keys(services).forEach(service => {\r\n            services[service] = services[service] ? 1 : 0\r\n        });\r\n\r\n        fetch(`${ENDPOINT_LINK}${this.state.address}&key=${ak}`)\r\n            .then(d => {\r\n                return d.json();\r\n            })\r\n            .then(d => {\r\n                let loc = d.results[0].geometry.location;\r\n                firebase.database().ref('Data').push({\r\n                    name: this.state.name,\r\n                    address: this.state.address,\r\n                    services,\r\n                    lat: loc.lat,\r\n                    lng: loc.lng\r\n                });\r\n                this.clearData();\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Client side security checking-- there is server side as well in Firebase rules\r\n     */\r\n    checkError = () => {\r\n        if (this.state.address === \"\") {\r\n            this.setState({ error: \"address\" });\r\n            return false;\r\n        }\r\n        if (this.state.name === \"\") {\r\n            this.setState({ error: \"name\" });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Clear state data\r\n     */\r\n    clearData = () => {\r\n        this.setState({\r\n            name: '',\r\n            address: '',\r\n            reverseLoading: false,\r\n            services: {}\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Set open or coordinates if changed\r\n     * @param {*} nextProps \r\n     */\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            open: nextProps.open,\r\n            coords: nextProps.coords\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Handle text input change\r\n     */\r\n    handleChange = (variable) => event => {\r\n        this.setState({\r\n            [variable]: event.target.value\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Handle checkbox changed\r\n     */\r\n    handleChecked = (variable) => event => {\r\n        let temp = this.state.services;\r\n        temp[variable] = !temp[variable];\r\n        this.setState({\r\n            services: temp\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get the reverse geolocation to get address from current lat/lng\r\n     */\r\n    getReverseGeoLocation = () => {\r\n        this.setState({ reverseLoading: true });\r\n        let link = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${this.state.coords.latitude},${this.state.coords.longitude}&location_type=ROOFTOP&result_type=street_address&key=${ak}`\r\n        fetch(link).then(d => {\r\n            return d.json();\r\n        }).then(d => {\r\n            this.setState({\r\n                address: d.results[0].formatted_address,\r\n                reverseLoading: false\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Dialog\r\n                open={this.state.open}\r\n                onClose={() => { this.props.setAddNewModalState(false) }}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Add new info</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Please enter information about a location!\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        error={this.state.error === \"name\"}\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Name\"\r\n                        fullWidth\r\n                        onChange={this.handleChange('name')}\r\n                    />\r\n                    <TextField\r\n                        error={this.state.error === \"address\"}\r\n                        margin=\"dense\"\r\n                        id=\"address\"\r\n                        label=\"Address\"\r\n                        fullWidth\r\n                        onChange={this.handleChange('address')}\r\n                        value={this.state.address}\r\n                    />\r\n\r\n                    <Button onClick={() => {\r\n                        // this.props.setAddNewModalState(false)\r\n                        this.getReverseGeoLocation();\r\n                    }} color=\"primary\" disabled={this.state.reverseLoading}>\r\n                        Use current location\r\n                    </Button>{this.state.reverseLoading && <CircularProgress />}\r\n                    <FormLabel component=\"legend\">What kinds of services does this place provide?</FormLabel>\r\n                    <FormGroup>\r\n                        {this.servicesList.map((d, i) => {\r\n                            return <FormControlLabel key={'check' + i} control={\r\n                                <Checkbox checked={this.state.services[d.id]} onChange={this.handleChecked(d.id)} value={d.id} />\r\n                            }\r\n                                label={d.title} />\r\n                        })}\r\n                    </FormGroup>\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {\r\n                        this.clearData();\r\n                        this.props.setAddNewModalState(false);\r\n                    }} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => {\r\n                        if (this.checkError()) {\r\n                            this.submitToFirebase();\r\n                            this.props.setAddNewModalState(false);\r\n                        }\r\n                    }} color=\"primary\">\r\n                        Submit\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div >\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n/**\r\n * AddButton is the bottom that appears at the bottom right of the Main page\r\n * @class\r\n */\r\nexport default class SearchButton extends Component {\r\n    render() {\r\n        return <div style={{\r\n            position: 'absolute',\r\n            bottom: 20,\r\n            right: 80,\r\n            zIndex: 500\r\n        }}><Button variant=\"fab\" style={{ backgroundColor: \"#421dac\", color: 'white' }} onClick={() => this.props.setSearchModalState(true)}>\r\n                <SearchIcon />\r\n            </Button></div>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\n// pls dont steal\r\nconst ak = 'AIzaSyA-u4mGseXsGu1mLytcpR3skLsn24vwH3Y';\r\nconst ENDPOINT_LINK = 'https://maps.googleapis.com/maps/api/geocode/json?address=';\r\n\r\n/**\r\n * AddDialog is the dialog window for adding information to firebase\r\n * @class\r\n */\r\nexport default class SearchDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: this.props.open,\r\n            address: '',\r\n            loading: false,\r\n            services: {\r\n                F_condoms: false,\r\n                F_bcpills: false,\r\n                F_iud: false,\r\n                D_condoms: false,\r\n                D_bcpills: false,\r\n                D_iud: false,\r\n                D_morningAfter: false\r\n            },\r\n            error: '',\r\n            coords: this.props.coords\r\n        };\r\n\r\n        this.servicesList = [\r\n            { id: 'F_condoms', title: 'Free Condoms' },\r\n            { id: 'F_bcpills', title: 'Free Birth Control Pills' },\r\n            { id: 'F_iud', title: 'Free IUDs' },\r\n            { id: 'D_condoms', title: 'Discounted Condoms' },\r\n            { id: 'D_bcpills', title: 'Discounted Birth Control Pills' },\r\n            { id: 'D_iud', title: 'Discounted IUDs' },\r\n            { id: 'D_morningAfter', title: 'Discounted Morning After Pills' }\r\n        ]\r\n    }\r\n\r\n    /**\r\n     * Clear state data\r\n     */\r\n    clearData = () => {\r\n        this.setState({\r\n            address: '',\r\n            loading: false,\r\n            services: {}\r\n        })\r\n    }\r\n\r\n    submit = () => {\r\n        fetch(`${ENDPOINT_LINK}${this.state.address}&key=${ak}`)\r\n            .then(d => {\r\n                return d.json();\r\n            })\r\n            .then(d => {\r\n                let loc = d.results[0].geometry.location;\r\n                this.props.setNewCoords(loc.lat, loc.lng);\r\n                this.props.setFilter(this.state.services);\r\n                this.clearData();\r\n            });\r\n    }\r\n\r\n\r\n    /**\r\n * Get the reverse geolocation to get address from current lat/lng\r\n */\r\n    getReverseGeoLocation = () => {\r\n        this.setState({ loading: true });\r\n        let link = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${this.state.coords.latitude},${this.state.coords.longitude}&location_type=ROOFTOP&result_type=street_address&key=${ak}`\r\n        fetch(link).then(d => {\r\n            return d.json();\r\n        }).then(d => {\r\n            this.setState({\r\n                address: d.results[0].formatted_address,\r\n                loading: false\r\n            });\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Set open or coordinates if changed\r\n     * @param {*} nextProps \r\n     */\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            open: nextProps.open,\r\n            coords: nextProps.coords\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Handle text input change\r\n     */\r\n    handleChange = (variable) => event => {\r\n        this.setState({\r\n            [variable]: event.target.value\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Handle checkbox changed\r\n     */\r\n    handleChecked = (variable) => event => {\r\n        let temp = this.state.services;\r\n        temp[variable] = !temp[variable];\r\n        this.setState({\r\n            services: temp\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <Dialog\r\n                open={this.state.open}\r\n                onClose={() => { this.props.setSearchModalState(false) }}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Search or filter</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Please enter the address you would like to see.\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        error={this.state.error === \"address\"}\r\n                        margin=\"dense\"\r\n                        id=\"address\"\r\n                        label=\"Address\"\r\n                        fullWidth\r\n                        onChange={this.handleChange('address')}\r\n                        value={this.state.address}\r\n                    />\r\n                    <Button onClick={() => {\r\n                        // this.props.setAddNewModalState(false)\r\n                        this.getReverseGeoLocation();\r\n                    }} color=\"primary\" disabled={this.state.loading}>\r\n                        Use current location\r\n                    </Button>{this.state.loading && <CircularProgress />}\r\n                    <FormLabel component=\"legend\">What kinds of services are you looking for?</FormLabel>\r\n                    <FormGroup>\r\n                        {this.servicesList.map((d, i) => {\r\n                            return <FormControlLabel key={'check' + i} control={\r\n                                <Checkbox checked={this.state.services[d.id]} onChange={this.handleChecked(d.id)} value={d.id} />\r\n                            }\r\n                                label={d.title} />\r\n                        })}\r\n                    </FormGroup>\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {\r\n                        this.clearData();\r\n                        this.props.setSearchModalState(false);\r\n                    }} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => {\r\n                        this.submit();\r\n                        this.props.setSearchModalState(false);\r\n                    }} color=\"primary\">\r\n                        Submit\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div >\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport MapObj from '../components/MapObj';\r\nimport './Main.css';\r\nimport AddButton from '../components/AddButton';\r\nimport AddDialog from '../components/AddDialog';\r\nimport SearchButton from '../components/SearchButton';\r\nimport SearchDialog from '../components/SearchDialog';\r\n\r\n/**\r\n * Main is the component that appears when the route is at '/map'\r\n * This is the main map file\r\n * @class\r\n */\r\nexport default class Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            coords: this.props.coords,\r\n            data: this.props.data,\r\n            addNewModalOpen: false,\r\n            searchModalOpen: false,\r\n            services: {}\r\n        }\r\n    }\r\n\r\n    /**\r\n     * On receiving props, update coordinates and data\r\n     * @param {*} props destructured props, which has coords and data  \r\n     */\r\n    componentWillReceiveProps({ coords, data }) {\r\n        this.setState({ coords, data })\r\n    }\r\n\r\n    /**\r\n     * Set modal state open or closed\r\n     * @param {boolean} addNewModalOpen true for open, false for closed.\r\n     */\r\n    setAddNewModalState = (addNewModalOpen) => {\r\n        this.setState({ addNewModalOpen });\r\n    }\r\n\r\n    /**\r\n     * set modal state of search open or closed\r\n     * @param {boolean} searchModalOpen\r\n     */\r\n    setSearchModalState = (searchModalOpen) => {\r\n        this.setState({ searchModalOpen });\r\n    }\r\n\r\n    setNewCoords = (latitude, longitude) => {\r\n        this.setState({\r\n            coords: { latitude, longitude }\r\n        })\r\n    }\r\n\r\n    setFilter = (services) => {\r\n        this.setState({ services });\r\n    }\r\n\r\n    render() {\r\n        return <div className={`classname`} style={{\r\n            width: '100vw',\r\n            height: '100vh',\r\n            overflow: 'hidden'\r\n        }}>\r\n            <MapObj coords={this.state.coords} style={{ width: '100vw', height: '100vh' }} data={this.state.data} services={this.state.services} />\r\n            <AddButton setAddNewModalState={this.setAddNewModalState} />\r\n            <SearchButton setSearchModalState={this.setSearchModalState} />\r\n            <AddDialog open={this.state.addNewModalOpen} coords={this.state.coords} setAddNewModalState={this.setAddNewModalState} />\r\n            <SearchDialog open={this.state.searchModalOpen} setNewCoords={this.setNewCoords} coords={this.state.coords} setSearchModalState={this.setSearchModalState} setFilter={this.setFilter} />\r\n        </div>\r\n    }\r\n}"],"sourceRoot":""}